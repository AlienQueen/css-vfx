<!DOCTYPE html>
<html>
<head>

<!--
    Copyright (C) 2009 Charles Ying. All Rights Reserved.
    This source code is available under Apache License 2.0.
-->

<title>Snow Stack - WebKit 3D CSS Visual Effects</title>
<meta name="Description" content="Snow Stack is a demo of WebKit CSS 3D visual effects with latest WebKit nightly on Mac OS X Snow Leopard" />

<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js"></script>

<link rel="stylesheet" type="text/css" href="snowstack.css">

<style type="text/css">

body
{
	font-family: 'Helvetica Neue Light', 'HelveticaNeue-Light', sans-serif;
	background-color: black;
	color: white;
	margin: 0;
	padding: 0;
}

</style>

</head>

<body>

<div class="page view">

<div class="origin view">
	<div id="camera" class="view">
		<div id="dolly" class="view">
			<div id="stack" class="view">
			</div>
			<div id="mirror" class="view">
				<div id="rstack" class="view">
				</div>
			</div>
		</div>
	</div>
</div>

</div>

<div id="caption" class="caption hide">
	snow stack / webkit css visual effects demo &mdash; arrow keys to move, space toggles magnify
</div>


<script type="text/javascript" src="snowstack.js"></script>

<script type="text/javascript">

function flickr(callback, page)
{
    var url = "http://api.flickr.com/services/rest/?method=flickr.interestingness.getList&api_key=60746a125b4a901f2dbb6fc902d9a716&per_page=21&extras=url_o,url_m,url_s,owner_name&page=" + page + "&format=json&jsoncallback=?";
    
	jQuery.getJSON(url, function(data) 
	{
        var images = jQuery.map(data.photos.photo, function (item)
        {
            return {
                title: item.ownername + " / " + item.title,
            	thumb: item.url_s,
            	zoom: 'http://farm' + item.farm + '.static.flickr.com/' + item.server + '/' + item.id + '_' + item.secret + '.jpg',
            	link: 'http://www.flickr.com/photos/' + item.owner + '/' + item.id
            };
        });

        callback(images);
    });
}

jQuery(window).load(function ()
{
	snowstack_init(flickr);
});

</script>

<script type="text/javascript">
	var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
	document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>

<script type="text/javascript">
	try {
	var pageTracker = _gat._getTracker("UA-69710-1");
	pageTracker._initData();
	pageTracker._trackPageview();
} catch(err) {}</script>

</body>

</html>